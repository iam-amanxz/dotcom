---
import BlogCard from "./BlogCard.astro";
import { getCollection } from "astro:content";

const recentPosts = await getCollection("blog", (post) => post.data.date).then(
  (posts) => posts.slice(0, 4)
);
---

<div class="px-10 py-20">
  <div class="mx-auto">
    <h1 class="heading font-black text-5xl mb-10 text-center">
      Latest Articles
    </h1>

    <div class="grid grid-cols-4 gap-5">
      {
        recentPosts.map((post) => (
          <a href={"/blog/" + post.slug}>
            <BlogCard
              title={post.data.title}
              description={post.data.excerpt}
              date={post.data.date.toDateString()}
              backgroundColor={post.data.card_color || "#A5B4FB"}
            />
          </a>
        ))
      }
    </div>
  </div>
</div>
